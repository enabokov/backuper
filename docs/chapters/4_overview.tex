%!TEX root = ../thesis.tex

\chapter{Аналіз та оцінка методів створення резервних копій баз данних}

Перша та основна база данних для цього проекту --- \textit{hbase}. В цьому розділі буде розкрито декілька варіантів його бекапу.

\section{Export}
Вбудований інструмент для виконнання повної резервної копії таблиць hbase на файлову систему --- hdfs.
Паралельне копіювання виконується завдяки праці MapReduce.

Переваги:

\begin{itemize}
    \item паралельність
    \item нативний інструмент hbase
\end{itemize}

Недоліки:

\begin{itemize}
    \item повільний, якщо мережа з низькою пропускною здатністю
    \item потребую вільну память на hdfs для експортованих таблиць
    \item існування проміжного пункту - hdfs
\end{itemize}

\section{CopyTable}
Цей метод має такі самі переваги, як і у метода Export \cite{hbase2012backup}. CopyTable запускає також MapReduce задачу.
Відрізняється він тим, що копіює дані з таблиць hbase не на hdfs, а одразу в іншу таблицю, 
інший namespace, але в тому самому кластері. Одним із найголовніших недоліків даного методу є те, що CopyTable
копіює row-by-row таблиць та виконує put для кожного з них. 
При великих розмірах таблиці, CopyTable спричинює швидке наповнення MemStore та виклик Minor/Major Compaction.
Такий метод не рекомендується використовувати на великих данних.

\section{HTable API}
Корисний тільки для Java програмістів \cite{hbase2016htable}.
Цей метод дозволяє написати свою реалізацію бекапу.
І одразу виникає дві проблеми:

\begin{itemize}
    \item програміст повинен знати як правильно бекапити
    \item неможливість реалізувати на іншій мові програмування
\end{itemize}

\section{Offline backup}
Практичний метод, який дозволяє виконати повну резервну копію інформації.
HBase працює тільки поверх hdfs і зберігає там свої дані.
Цей метод пропонує копіювати файлову систему hdfs і її директорію /hbase/.
Задля забезпечення цілістних данних - hbase кластер повинен зупинити.
У разі копіювання одного чи декількох namespaces-ів --- усі їх таблиці повинні бути вимкнуті (disable) для забезпечення persistence.

\begin{comment}
LipNet is the first end-to-end model that performs sentence-level sequence prediction for visual speech recogntion. That is, we 
demonstrate the first work that takes as input as sequence of images and outputs a distribution over sequences of tokens; it is 
trained end-to-end using CTC and thus also does not require alignments.
\end{comment}
